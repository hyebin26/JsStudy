## 변수
변수(Variable)는 프로그램에서 사용되는 데이터를 일정 기간 동안 기억하여 필요한 때에 다시 사용하기 위해 데이터에 고유의 이름인 식별자를 명시한 것이다. 변수에 명시한 고유한 식별자를 변수명이라하고 변수로 참조할 수 있는 데이터를 변수값이라고 한다.

### 변수 호이스팅(Variable Hoisting)
아래의 예제를 살펴보자.
```jsx
console.log(foo); // undeifined
var foo = 123;
console.log(foo); // 123
{
  var foo = 456;
}
console.log(foo); // 456
```
다른 C언어와는 달리 자바스크립트의 특징은 **모든 선언문은 호이스팅**이 된다.

호이스팅이란 var선언문이나 function 선언문 등 모든 선언문에 해당 Scope의 선두로 옮겨진 것처럼 동작하는 특성을 말한다. 즉, 자바스크립트는 모든 선언문(var,let,const,function,function*,class)이 선언되기 이전에 참조 가능하다.

변수가 어떻게 생성되며 호이스팅은 어떻게 이루어지는지 살펴보자.
1. 선언단계(Declaration phase) => 변수 객체(Variable Object)에 변수를 등록한다. 이 변수 객체는 스코프가 참조하는 대상이 된다.
2. 초기화단계(Initialization phase) => 변수 객체에 등록된 변수를 메모리에 할당한다. 이 단계에서 변수는 undefined로 초기화된다.
3. 할당단계(Assignment phase) => undefined로 초기화된 변수에 실제값을 할당한다.

var키워드로 선언된 변수는 선언 단계와 초기화 단계가 한번에 이루어진다. 즉, 스코프에 변수가 등록되고 변수는 메모리에 공간을 확보한 후 undefined로 초기화된다. 따라서 변수 선언문 이전에 변수에 접근하여도 Variable Object에 변수가 존재하기 때문에 에러가 발생하지 않는다. 다만 undefined를 반환한다. 이러한 현상을 호이스팅이라고 한다.

자바스크립트의 변수는 다른 C언어와 달리 **블록 레벨 스코프**를 가지지 않고 **함수 레벨 스코프**를 갖는다. 단 let,const키워드를 사용하면 블록 레벨 스코프를 사용할 수 있다.
1. **함수 레벨 스코프** => 함수 내에서 선언된 변수는 함수 내에서만 유효하며 함수 외부에서 참조할 수 없다. 즉, 함수 내부에서 선언한 변수는 지역 변수이며 함수 외부에서 선언한 변수는 모두 전역 변수이다.
2. **블록 레벨 스코프** => 코드 블록 내에서 선언된 변수는 코드 블록 내에서만 유효하며 코드 블록 외부에서는 참조 할 수 없다.
따라서 코드 블록 내의 변수 foo는 전역변수이므로 전역에 선언된 변수 foo에 할당된 값을 재할당하기 때문에 밑의 값은 456이 된다.

### var 키워드로 선언된 변수의 문제점 
var 키워드로 선언된 변수는 아래와 같은 특징을 갖는다. 이는 다른 C언어와는 차별되는 특징으로 주의를 기울이지 않으면 심각한 문제를 발생시킨다.
1. 함수 레벨 스코프 => 전역변수의 남발, for loop초기화식에서 사용한 변수를 for loop외부 또는 전역에서 참조할 수 있다.
2. var 키워드 생략 허용 => 의도하지 않은 변수의 전역화
3. 중복 선언 허용 => 의도하지 않은 변수값 변경
4. 변수 호이스팅 => 변수를 선언하기 전에 참조가 가능하다.

## let,const 호이스팅
**let 키워드로 선언된 변수는 선언 단계와 초기화 단계가 분리되어 진행된다.** 즉, 스코프에 변수를 등록(선언단계)하지만 초기화 단계는 변수 선언문에 도달했을 때 이루어진다. 초기화 이전에 변수에 접근하려고 하면 참조에러가 발생된다. 이는 변수가 아직 초기화되지 않았기 때문이다.다시 말하면 변수를 위한 메모리 공간이 아직 확보되지 않았기 때문이다. 따라서 스코프의 시작 지점부터 초기화 시작 지점까지는 변수를 참조할 수 없다.
```jsx
// 스코프의 선두에서 선언 단계가 실행된다.
// 아직 변수가 초기화(메모리 공간 확보와 undefined로 초기화)되지 않았다.
// 따라서 변수 선언문 이전에 변수를 참조할 수 없다.
console.log(foo); // ReferenceError: foo is not defined

let foo; // 변수 선언문에서 초기화 단계가 실행된다.
console.log(foo); // undefined

foo = 1; // 할당문에서 할당 단계가 실행된다.
console.log(foo); // 1
```

주의할 점은 **const는 반드시 선언과 동시에 할당이 이루어져야 한다**
```jsx
const foo ; // SyntaxError: Missing initializer in const declaration
```

참고 : <a href="https://poiemaweb.com/js-data-type-variable">https://poiemaweb.com/js-data-type-variable</a>
